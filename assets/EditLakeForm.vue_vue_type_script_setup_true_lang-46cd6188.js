import{u as S}from"./useForm-c9dd0d22.js";import{u as B}from"./useProjects-5bf93676.js";import{v as o}from"./utils-b2fc192b.js";import{d as L,k as i,c as T,p as w,r as m,o as F,a as P,w as f,e as d,b as s,u as t,J as g,t as _}from"./index-7a1b065c.js";const I={class:"self-stretch flex-col justify-start items-start gap-4 flex"},E={class:"flex gap-4 flex-col md:flex-row w-full"},O={class:"flex gap-4 flex-col md:flex-row w-full"},G={class:"flex gap-4 flex-col md:flex-row w-full"},R={class:"flex gap-4 flex-col md:flex-row w-full"},$={class:"flex gap-4 flex-col md:flex-row w-full"},z={class:"flex gap-4 flex-col md:flex-row w-full"},J={class:"flex gap-4 flex-col md:flex-row w-full"},Z={class:"flex gap-2 flex-col-reverse items-stretch justify-end w-full sm:flex-row sm:items-center"},W=L({__name:"EditLakeForm",props:{lake:{type:Object,default:null},saveButtonLabel:{type:String,default:"Save"}},emits:["close","save"],setup(p,{expose:x,emit:U}){const n=p,v={id:1,englishName:"",droneShots:[],geoTag:"",gujaratiName:"",village:"",dimensions:"",partner:"",startDate:"",endDate:"",capacity:"",projectHead:"",projectHeadContact:"",supervisor:"",supervisorContact:"",fs:!1,ss:!1,wsi:!1,prc:!1,ha:!1,cg:!1,ec:!1,ls:!1,fwm:!1,sd:!1,mm:!1},l=i({...v}),b=T(()=>Object.keys(l.value).some(u=>{var e;return u==="avatar"||u==="projects"?!1:l.value[u]!==((e=n.lake??v)==null?void 0:e[u])}));x({isFormHasUnsavedChanges:b}),w(()=>n.user,()=>{n.user&&(newUser.value={...n.user,avatar:n.user.avatar||""})},{immediate:!0});const j=i(),C=u=>URL.createObjectURL(u);w(j,u=>{newUser.value.avatar=u?C(u):""});const y=S("add-user-form"),q=U,D=()=>{y.validate()&&q("save",newUser.value)};return B({pagination:i({page:1,perPage:9999,total:10})}),(u,e)=>{const r=m("VaInput"),c=m("VaDateInput"),N=m("VaFileUpload"),V=m("VaButton"),k=m("VaForm");return F(),P(k,{ref:"add-user-form",class:"flex-col justify-start items-start gap-4 inline-flex w-full"},{default:f(({isValid:H})=>[d("div",I,[d("div",E,[s(r,{modelValue:l.value.englishName,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.englishName=a),label:"Lake name in English",class:"w-full md:w-1/2",rules:[t(o).required],name:"englishName"},null,8,["modelValue","rules"]),s(r,{modelValue:l.value.gujaratiName,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.gujaratiName=a),label:"Lake name in Gujarati",class:"w-full md:w-1/2",rules:[t(o).required],name:"gujaratiName"},null,8,["modelValue","rules"])]),d("div",O,[s(r,{modelValue:l.value.geoTag,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.geoTag=a),label:"Geo Tag",class:"w-full md:w-full",rules:[t(o).required],name:"geoTag"},null,8,["modelValue","rules"])]),d("div",G,[s(r,{modelValue:l.value.village,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.village=a),label:"Village",class:"w-full md:w-1/2",rules:[t(o).required],name:"village"},null,8,["modelValue","rules"]),s(r,{modelValue:l.value.dimensions,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.dimensions=a),label:"Dimensions",class:"w-full md:w-1/2",rules:[t(o).required],name:"dimensions"},null,8,["modelValue","rules"])]),d("div",R,[s(r,{modelValue:l.value.partner,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.partner=a),label:"Partner",class:"w-full md:w-1/2",rules:[t(o).required],name:"partner"},null,8,["modelValue","rules"]),s(r,{modelValue:l.value.capacity,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.capacity=a),label:"Capacity",class:"w-full md:w-1/2",rules:[t(o).required],name:"capacity"},null,8,["modelValue","rules"])]),d("div",$,[s(c,{modelValue:l.value.startDate,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.startDate=a),class:"w-full md:w-1/2",label:"Start Date",rules:[t(o).required]},null,8,["modelValue","rules"]),s(c,{modelValue:l.value.endDate,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.endDate=a),class:"w-full md:w-1/2",label:"End Date",rules:[t(o).required]},null,8,["modelValue","rules"])]),d("div",z,[s(r,{modelValue:l.value.projectHead,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.projectHead=a),label:"Project Head",class:"w-full md:w-1/2",rules:[t(o).required],name:"projectHead"},null,8,["modelValue","rules"]),s(r,{modelValue:l.value.projectHeadContact,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.projectHeadContact=a),label:"Project Head Contact",class:"w-full md:w-1/2",rules:[t(o).required],name:"projectHeadContact"},null,8,["modelValue","rules"])]),d("div",J,[s(r,{modelValue:l.value.supervisor,"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.supervisor=a),label:"Supervisor",class:"w-full md:w-1/2",rules:[t(o).required],name:"supervisor"},null,8,["modelValue","rules"]),s(r,{modelValue:l.value.supervisorContact,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.supervisorContact=a),label:"Supervisor Contact",class:"w-full md:w-1/2",rules:[t(o).required],name:"supervisorContact"},null,8,["modelValue","rules"])]),s(N,{modelValue:l.value.droneShots,"onUpdate:modelValue":e[13]||(e[13]=a=>l.value.droneShots=a),type:"gallery",dropzone:"",dropZoneText:"Upload site files here",uploadButtonText:"Upload files","file-types":"image/*,video/*",label:"Test"},null,8,["modelValue"]),d("div",Z,[s(V,{preset:"secondary",color:"secondary",onClick:e[14]||(e[14]=a=>u.$emit("close"))},{default:f(()=>[g("Cancel")]),_:1}),s(V,{disabled:!H,onClick:D},{default:f(()=>[g(_(p.saveButtonLabel),1)]),_:2},1032,["disabled"])])])]),_:1},512)}}});export{W as _};
//# sourceMappingURL=EditLakeForm.vue_vue_type_script_setup_true_lang-46cd6188.js.map
