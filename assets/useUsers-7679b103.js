import{d as m,r as v,o as d,a as g,k as u,p,u as c}from"./index-7a1b065c.js";import{a as w,u as h,r as k,g as y}from"./users-d55249cb.js";import{w as U}from"./projects-88949a9d.js";const B=m({__name:"UserAvatar",props:{user:{type:Object,required:!0},size:{type:String,default:"medium"}},setup(r){const a=e=>{const s=["primary","#FFD43A","#ADFF00","#262824","danger"],t=e.charCodeAt(0)%s.length;return s[t]},l=e=>e.startsWith("http")||e.startsWith("blob:");return(e,s)=>{const t=v("VaAvatar");return d(),g(t,{size:r.size,src:l(r.user.avatar)?r.user.avatar:"","fallback-text":r.user.avatar||r.user.fullname[0],color:a(r.user.fullname)},null,8,["size","src","fallback-text","color"])}}}),A=()=>u({page:1,perPage:10,total:0}),b=()=>u({sortBy:"fullname",sortingOrder:null}),x=()=>u({isActive:!0,search:""}),P=r=>{const a=u(!1),l=u([]),{filters:e=x(),sorting:s=b(),pagination:t=A()}=r||{},n=async()=>{a.value=!0;const{data:o,pagination:f}=await y({...c(e),...c(s),...c(t)});l.value=o,i(()=>{t.value=f}),a.value=!1},{ignoreUpdates:i}=U([t,s],n,{deep:!0});return p(e,()=>{t.value.page=1,n()},{deep:!0}),n(),{isLoading:a,filters:e,sorting:s,pagination:t,users:l,fetch:n,async add(o){a.value=!0,await w(o),await n(),a.value=!1},async update(o){a.value=!0,await h(o),await n(),a.value=!1},async remove(o){a.value=!0,await k(o),await n(),a.value=!1}}};export{B as _,P as u};
//# sourceMappingURL=useUsers-7679b103.js.map
